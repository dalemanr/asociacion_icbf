<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Facelet Title</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"></link>
        <f:event type="preRenderView" listener="#{asistenciaController.horaAsistencia()}"/>
        <f:event type="preRenderView" listener="#{usuarioController.verificarSesisonMama()}"/>
        
    </h:head>
    <h:body>
        <header>
            <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light  border-bottom box-shadow mb-3" style="background-color: #E3F2FD">
                <div class="container-fluid " >
                    <a class ="navbar-brand ">ICBF</a>
                    
                    <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
                        
                    </div>
                </div> 
                <h:form> <h:commandButton value="ver asistencia" action="#{asistenciaController.verAsis()}" class="btn btn-outline-dark" /></h:form>
            </nav>   
        </header>
        
        <div class="container">
            <main role="main" class="pb-3 bg-outline-secondary"  >
                <div class="card mb-3" style="max-width: 540px;">
                    <div class="row g-0">
                      <div class="col-md-4">
                         <h:graphicImage class="img-fluid rounded-start" alt="Profile picture" value="#{usuarioController.UsuarioLogeado().foto}"/>
                      </div>
                      <div class="col-md-8">
                        <div class="card-body">
                          <h5 class="card-title"><h:outputText class="text-success align-middle px-0" style="font-size: 25px" value="#{usuarioController.UsuarioLogeado().nombre} #{usuarioController.UsuarioLogeado().apellidos}"/></h5>
                          <p class="card-text"></p>
                          <p class="card-text"><small class="text-body-secondary"></small></p>
                        </div>
                      </div>
                    </div>
                </div>
                <div>
                    <f:view>


                        <h:form>
                            <h1><h:outputText value="REGISTRO DE ASISTENCIA"/></h1>
                            <h:panelGrid columns="2">
                                <h:outputLabel value="Niño:" for="idkid" />
                                <h:selectOneMenu id="idkid" value="#{asistenciaController.kid.idkid}" title="Idkid" styleClass="form-select">
                                   
                                    <f:selectItems value="#{asistenciaController.listarKid()}" var="kid" itemValue="#{kid.idkid}" itemLabel="#{kid.nombre} #{kid.apellido}"/>
                                </h:selectOneMenu>
                                <h:outputLabel value="Asistencia:" for="asistencia" />
                                <h:selectOneMenu id="asistencia" value="#{asistenciaController.asistencia.asistencia}" title="asistencia" styleClass="form-select">
                                    <f:selectItem itemLabel="Seleccionar opción" itemValue="" />
                                    <f:selectItem itemLabel="Presente" itemValue="Presente" />
                                    <f:selectItem itemLabel="Ausente" itemValue="Ausente" />
                                    <f:selectItem itemLabel="Excusa" itemValue="Excusa" />

                                </h:selectOneMenu>  
                                
                               
                                <h:outputLabel value="Descripción:" for="descripción" />
                                <h:selectOneMenu id="descripcion" value="#{asistenciaController.asistencia.descripción}" title="descripción" styleClass="form-select">
                                    <f:selectItem itemLabel="Seleccionar opción" itemValue="" />
                                    <f:selectItem itemLabel="Sano" itemValue="Sano" />
                                    <f:selectItem itemLabel="Enfermo" itemValue="Enfermo" />
                                    <f:selectItem itemLabel="Decaido" itemValue="Decaido" />

                                </h:selectOneMenu>
                            </h:panelGrid>
                            <h:commandButton value="Registrar" action="#{asistenciaController.register()}" class="btn btn-outline-success" />
                        </h:form>
                    </f:view>

                </div>
                <div class="position-relative bottom-0 end-0">
                    <h:form> <h:commandButton value="Cerrar sesion" action="#{usuarioController.logout()}" class="btn btn-outline-dark" /></h:form>
                </div>
            </main>
        </div>
        
        <footer class="border-bottom border border-black footer text-muted text-center fixed-bottom bg-secundary" >
            <div class="container text-black" >
                &copy; 2023 - ICBF 
            </div>
        </footer >
        

    </h:body>
</html>
